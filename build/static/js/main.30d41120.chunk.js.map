{"version":3,"sources":["App.js","index.js","assets/twitter-logo.svg"],"names":["TWITTER_LINK","concat","SystemProgram","web3","arr","Keypair","Object","values","kp","_keypair","secretKey","secret","Uint8Array","baseAccount","fromSecretKey","console","log","publicKey","toString","programID","PublicKey","idl","metadata","address","network","clusterApiUrl","opts","App","GifItem","_React$Component","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","upvoteGif","asyncToGenerator","regenerator_default","a","mark","_callee","provider","program","wrap","_context","prev","next","getProvider","Program","rpc","state","gifLink","accounts","user","wallet","getGifList","t0","removeWalletAddressFromVoteArray","upvotedUsers","walletAddress","setState","prevState","voteCount","stop","downvoteGif","_callee2","_context2","downvotedUsers","deleteGif","_callee3","_context3","removeGif","userAddress","Array","setVoteArray","userUpvoted","userDownvoted","setUserVotedState","incrementVoteCount","bind","assertThisInitialized","decrementVoteCount","inherits","createClass","key","value","voteArray","voteArrayPubkeys","i","length","pubkeyString","pubkeyToString","push","pubkey","splice","voteArrayContainsWalletAddress","_this2","_this3","_this4","cancleDownvote","_this5","cancleUpvote","_this6","react_default","createElement","className","src","onClick","renderDeleteButton","React","Component","_useState","useState","_useState2","slicedToArray","setWalletAddress","_useState3","_useState4","inputValue","setInputValue","_useState5","_useState6","gifList","setGifList","useEffect","onLoad","_ref4","_callee4","_context4","checkIfWalletIsConnected","apply","arguments","window","addEventListener","removeEventListener","_ref5","_callee5","_window","solana","response","_context5","isPhantom","connect","onlyIfTrusted","sent","alert","error","connection","Connection","Provider","connectWallet","_ref6","_callee6","_window2","_context6","_ref7","_callee7","account","_context7","fetch","sendGif","_ref8","_callee8","_context8","abrupt","addGif","createGifAccount","_ref9","_callee9","_context9","startStuffOff","systemProgram","programId","signers","onInputChange","event","target","onInputSubmit","preventDefault","onSubmit","type","placeholder","onChange","map","item","index","renderConnectedContainer","alt","twitterLogo","href","rel","ReactDOM","render","StrictMode","src_App_0","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.30d41120.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Connection, PublicKey, clusterApiUrl } from '@solana/web3.js';\nimport { Program, Provider, web3 } from '@project-serum/anchor';\nimport twitterLogo from './assets/twitter-logo.svg';\nimport './App.css';\nimport idl from \"./idl.json\";\nimport kp from './keypair.json';\n// import GifItem from './components/GifItem.js';\n\n// Constants\nconst TWITTER_HANDLE = 'nasty_piwo';\nconst TWITTER_LINK = `https://twitter.com/${TWITTER_HANDLE}`;\n\n// SystemProgram is a reference to the Solana runtime!\nconst { SystemProgram, Keypair } = web3;\n\n// Create a keypair for the account that will hold the GIF data.\n// let baseAccount = Keypair.generate();\n// As we want all users to talk to the same baseAccount we rather write it to a json file.\nconst arr = Object.values(kp._keypair.secretKey)\nconst secret = new Uint8Array(arr)\nconst baseAccount = web3.Keypair.fromSecretKey(secret)\nconsole.log(baseAccount.publicKey.toString());\n\n// Get our program's id from the IDL file.\nconst programID = new PublicKey(idl.metadata.address);\n\n// Set our network to devnet.\nconst network = clusterApiUrl('devnet');\n\n// Controls how we want to acknowledge when a transaction is \"done\".\nconst opts = {\n  preflightCommitment: \"processed\"\n}\n\nconst TEST_GIFS = [\n  'https://media0.giphy.com/media/YKFnKWYbKREHu/giphy.gif?cid=ecf05e471nd4g9za4ai9pmdklf249y7kc75kvxwye0gi7q5y&rid=giphy.gif&ct=g',\n  'https://media1.giphy.com/media/wtNOUuCzFKcaA/giphy.gif?cid=ecf05e471nd4g9za4ai9pmdklf249y7kc75kvxwye0gi7q5y&rid=giphy.gif&ct=g',\n  'https://media2.giphy.com/media/8yyJH4yzqgx0Y/giphy.gif?cid=ecf05e471nd4g9za4ai9pmdklf249y7kc75kvxwye0gi7q5y&rid=giphy.gif&ct=g',\n  'https://media1.giphy.com/media/nVySvk13dgluU/200.gif?cid=ecf05e471nd4g9za4ai9pmdklf249y7kc75kvxwye0gi7q5y&rid=200.gif&ct=g'\n]\n\nconst App = () => {\n\n  class GifItem extends React.Component {\n    constructor(props) {\n        super(props);\n        this.walletAddress = props.walletAddress.toString();\n        this.state = {\n            userAddress: \"\",\n            gifLink: \"\",\n            voteCount: 0,\n            upvotedUsers: [],\n            downvotedUsers: [],\n        };\n        this.upvotedUsers = new Array();\n        this.downvotedUsers = new Array();\n        this.setVoteArray(this.upvotedUsers, this.props.upvotedUsers);\n        this.setVoteArray(this.downvotedUsers, this.props.downvotedUsers);\n        console.log(`Upvoted Users: ${this.upvotedUsers}`);\n        console.log(`Downvoted Users: ${this.downvotedUsers}`);\n        this.userUpvoted = false;\n        this.userDownvoted = false;\n\n        this.setUserVotedState();\n  \n        // bindings are necessary to make `this` work in the callback\n        this.incrementVoteCount = this.incrementVoteCount.bind(this);\n        this.decrementVoteCount = this.decrementVoteCount.bind(this);\n    }\n\n    setVoteArray(voteArray, voteArrayPubkeys) {\n      for( var i = 0; i < voteArrayPubkeys.length; i++){\n        let pubkeyString = this.pubkeyToString(voteArrayPubkeys[i]);\n        voteArray.push(pubkeyString);\n      }\n    }\n\n    pubkeyToString(pubkey){\n      return pubkey.toString();\n    }\n  \n    componentDidMount() {\n        this.setState({\n            userAddress: this.props.userAddress.toString(),\n            gifLink: this.props.gifLink.toString(),\n            voteCount: this.props.voteCount,\n            upvotedUsers: this.props.upvotedUsers,\n            downvotedUsers: this.props.downvotedUsers,\n        });\n    }\n  \n    voteArrayContainsWalletAddress (voteArray, user) {\n      for( var i = 0; i < voteArray.length; i++) {\n        if (voteArray[i] === user){\n          return true;\n        }\n      }\n      return false\n    }\n  \n    removeWalletAddressFromVoteArray (voteArray, user) {\n      for( var i = 0; i < voteArray.length; i++){\n        if (voteArray[i] === user){\n          voteArray.splice(i, 1);\n        }\n      }\n    }\n  \n    setUserVotedState () {\n      this.userUpvoted = this.voteArrayContainsWalletAddress(this.upvotedUsers, this.walletAddress);\n      this.userDownvoted = this.voteArrayContainsWalletAddress(this.downvotedUsers, this.walletAddress);\n    }\n  \n    upvoteGif = async () => {\n      try {\n        const provider = getProvider();\n        const program = new Program(idl, programID, provider);\n    \n        await program.rpc.upvoteGif(this.state.gifLink, {\n          accounts: {\n            baseAccount: baseAccount.publicKey,\n            user: provider.wallet.publicKey,\n          },\n        });\n        console.log(\"GIF successfully upvoted\")\n    \n        await getGifList();\n      } catch (error) {\n        console.log(\"Error upvoting GIF:\", error)\n        this.removeWalletAddressFromVoteArray(this.upvotedUsers, this.walletAddress);\n        this.setState(prevState => ({\n          voteCount: prevState.voteCount -= 1,\n          upvotedUsers: this.upvotedUsers,\n        }));\n      }\n    };\n  \n    downvoteGif = async () => {\n      try {\n        const provider = getProvider();\n        const program = new Program(idl, programID, provider);\n    \n        await program.rpc.downvoteGif(this.state.gifLink, {\n          accounts: {\n            baseAccount: baseAccount.publicKey,\n            user: provider.wallet.publicKey,\n          },\n        });\n        console.log(\"GIF successfully downvoted\")\n    \n        await getGifList();\n      } catch (error) {\n        console.log(\"Error downvoting GIF:\", error)\n        this.removeWalletAddressFromVoteArray(this.downvotedUsers, this.walletAddress);\n        this.setState(prevState => ({\n          voteCount: prevState.voteCount += 1,\n          downvotedUsers: this.downvotedUsers,\n        }));\n      }\n    };\n  \n    deleteGif = async () => {\n      try {\n        const provider = getProvider();\n        const program = new Program(idl, programID, provider);\n    \n        await program.rpc.removeGif(this.state.gifLink, {\n          accounts: {\n            baseAccount: baseAccount.publicKey,\n            user: provider.wallet.publicKey,\n          },\n        });\n        console.log(\"GIF successfully deleted\")\n    \n        await getGifList();\n      } catch (error) {\n        console.log(\"Error deleting GIF:\", error)\n      }\n    };\n\n    cancleUpvote() {\n      this.removeWalletAddressFromVoteArray(this.upvotedUsers, this.walletAddress);\n      this.setState(prevState => ({\n        voteCount: prevState.voteCount -= 1,\n        upvotedUsers: this.upvotedUsers,\n      }));\n      console.log(\"Upvote removed...\");\n    }\n    \n    cancleDownvote() {\n      this.removeWalletAddressFromVoteArray(this.downvotedUsers, this.walletAddress);\n      this.setState(prevState => ({\n        voteCount: prevState.voteCount += 1,\n        downvotedUsers: this.downvotedUsers,\n      }));\n      console.log(\"Downvote removed...\");\n    }\n  \n    incrementVoteCount () {\n      this.setUserVotedState();\n      if (!this.userUpvoted && !this.userDownvoted) {\n        this.upvotedUsers.push(this.walletAddress);\n        this.setState(prevState => ({\n          voteCount: prevState.voteCount += 1,\n          upvotedUsers: this.upvotedUsers,\n        }));\n        this.upvoteGif();\n        console.log(\"Upvote count incremented...\");\n      }\n      else if (!this.userUpvoted && this.userDownvoted) {\n        this.cancleDownvote();\n      }\n      this.setUserVotedState();\n    }\n  \n    decrementVoteCount () {\n      this.setUserVotedState();\n      if (!this.userUpvoted && !this.userDownvoted) {\n        this.downvotedUsers.push(this.walletAddress);\n        this.setState(prevState => ({\n          voteCount: prevState.voteCount -= 1,\n          downvotedUsers: this.downvotedUsers,\n        }));\n        this.downvoteGif();\n        console.log(\"Downvote count incremented...\");\n      }\n      else if (this.userUpvoted && !this.userDownvoted) {\n        this.cancleUpvote();\n      }\n      this.setUserVotedState();\n    }\n  \n    render() {\n      const renderVoteCount = () => {\n        if(this.userUpvoted && !this.userDownvoted) {\n          return <p className=\"gif-upvote-count\">{this.state.voteCount}</p>\n        } else if (this.userDownvoted && !this.userUpvoted) {\n          return <p className=\"gif-downvote-count\">{this.state.voteCount}</p>\n        } else {\n          return <p className=\"gif-standard-count\">{this.state.voteCount}</p>\n        }\n      }\n  \n      const renderDeleteButton = () => {\n        if (this.props.userAddress.toString() == this.walletAddress) {\n          return <button className=\"delete-button\" onClick={this.deleteGif}>X</button>\n        }\n      }\n  \n      return (\n        <div className=\"gif-item\">\n          <div className=\"gif-item-content\">\n            <small className=\"gif-user-address\">User address: {this.props.userAddress.toString()}</small>\n            <img src={this.props.gifLink.toString()} />\n          </div>\n          <div className=\"gif-side-container\">\n            <div className=\"gif-vote-container\">\n              <button className=\"gif-upvote-button\" onClick={this.incrementVoteCount}>⬆</button>\n              {renderVoteCount()}\n              <button className=\"gif-downvote-button\" onClick={this.decrementVoteCount}>⬇</button>\n            </div>\n            {renderDeleteButton()}\n          </div>\n        </div>\n      )\n    }\n  }\n\n  // State\n  const [walletAddress, setWalletAddress] = useState(null);\n  const [inputValue, setInputValue] = useState('');\n  const [gifList, setGifList] = useState([]);\n\n  // useEffects\n  /*\n   * When our component first mounts, let's check to see if we have a connected\n   * Phantom Wallet\n   */\n  // useEffect is a hook that allows aus to do something immediately after a state like the componet or \n  // a field like the walletAdress in the second useEffect has rendered/changed\n  useEffect(() => {\n    const onLoad = async () => {\n      await checkIfWalletIsConnected();\n    };\n    window.addEventListener('load', onLoad);\n    return () => window.removeEventListener('load', onLoad);\n  }, []);\n\n  useEffect(() => {\n    if (walletAddress) {\n      console.log('Fetching GIF list...');\n      getGifList()\n    }\n  }, [walletAddress]);\n\n  // Actions\n  /*\n   * This function holds the logic for deciding if a Phantom Wallet is\n   * connected or not\n   */\n  const checkIfWalletIsConnected = async () => {\n    try {\n      const { solana } = window;\n\n      if (solana) {\n        if (solana.isPhantom) {\n          console.log('Phantom wallet found!');\n          /*\n         * The solana object gives us a function that will allow us to connect\n         * directly with the user's wallet!\n         */\n          const response = await solana.connect({ onlyIfTrusted: true });\n          console.log(\n            'Connected with Public Key:',\n            response.publicKey.toString()\n          );\n\n          /*\n           * Set the user's publicKey in state to be used later!\n           */\n          setWalletAddress(response.publicKey.toString());\n        }\n      } else {\n        alert('Solana object not found! Get a Phantom Wallet 👻');\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const getProvider = () => {\n    const connection = new Connection(network, opts.preflightCommitment);\n    const provider = new Provider(\n      connection, window.solana, opts.preflightCommitment,\n    );\n    return provider;\n  }\n\n  /*\n   * Let's define this method so our code doesn't break.\n   * We will write the logic for this next!\n   */\n  const connectWallet = async () => {\n    const { solana } = window;\n\n    if (solana) {\n      const response = await solana.connect();\n      console.log('Connected with Public Key:', response.publicKey.toString());\n      setWalletAddress(response.publicKey.toString());\n    }\n  };\n\n  const getGifList = async () => {\n    try {\n      const provider = getProvider();\n      const program = new Program(idl, programID, provider);\n      const account = await program.account.baseAccount.fetch(baseAccount.publicKey);\n\n      console.log(\"Got the account\", account);\n      setGifList(account.gifList);\n\n    } catch (error) {\n      console.log(\"Error in getGifList: \", error);\n      setGifList(null);\n    }\n  }\n\n  const sendGif = async () => {\n    if (inputValue.length === 0) {\n      console.log(\"No gif link given!\")\n      return\n    }\n    setInputValue('');\n    console.log('Gif link:', inputValue);\n    try {\n      const provider = getProvider();\n      const program = new Program(idl, programID, provider);\n  \n      await program.rpc.addGif(inputValue, {\n        accounts: {\n          baseAccount: baseAccount.publicKey,\n          user: provider.wallet.publicKey,\n        },\n      });\n      console.log(\"GIF successfully sent to program\", inputValue)\n  \n      await getGifList();\n    } catch (error) {\n      console.log(\"Error sending GIF:\", error)\n    }\n  };\n\n  const createGifAccount = async () => {\n    try {\n      const provider = getProvider();\n      const program = new Program(idl, programID, provider);\n      console.log(\"ping\")\n      await program.rpc.startStuffOff({\n        accounts: {\n          baseAccount: baseAccount.publicKey,\n          user: provider.wallet.publicKey,\n          systemProgram: SystemProgram.programId,\n        },\n        signers: [baseAccount]\n      });\n      console.log(\"Created a new BaseAccount w/ address:\", baseAccount.publicKey.toString())\n      await getGifList();\n\n    } catch (error) {\n      console.log(\"Error creating BaseAccount account:\", error)\n    }\n  }\n\n  /*\n   * We want to render this UI when the user hasn't connected\n   * their wallet to our app yet.\n   */\n  const renderNotConnectedContainer = () => (\n    <button\n      className=\"cta-button connect-wallet-button\"\n      onClick={connectWallet}\n    >\n      Connect to Wallet\n    </button>\n  );\n\n    // UI events\n    const onInputChange = (event) => {\n      const { value } = event.target;\n      setInputValue(value);\n    };\n  \n    const onInputSubmit = (event) => {\n      event.preventDefault();\n      sendGif();\n    }\n\n  const renderConnectedContainer = () => {\n    const provider = getProvider();\n    // If we hit this, it means the program account hasn't been initialized.\n      if (gifList === null) {\n        return (\n          <div className=\"connected-container\">\n            <button className=\"cta-button submit-gif-button\" onClick={createGifAccount}>\n              Do One-Time Initialization For GIF Program Account\n            </button>\n          </div>\n        )\n      } \n      // Otherwise, we're good! Account exists. User can submit GIFs.\n      else {\n        return(\n          <div className=\"connected-container\">\n            <form\n              onSubmit={onInputSubmit}\n            >\n              <input\n                type=\"text\"\n                placeholder=\"Enter gif link!\"\n                value={inputValue}\n                onChange={onInputChange}\n              />\n              <button type=\"submit\" className=\"cta-button submit-gif-button\">\n                Submit\n              </button>\n            </form>\n            <div className=\"gif-grid\">\n              {/* {TEST_GIFS.map(gif => (\n              <div className=\"gif-item\" key={gif}>\n                <img src={gif} alt={gif} />\n              </div>\n              ))} */}\n              {/* Map through gifList instead of TEST_GIFS */}\n              {/* {gifList.map((gif) => (\n                <div className=\"gif-item\" key={gif}>\n                  <img src={gif} alt={gif} />\n                </div>\n              ))} */}\n              {/* We use index as the key instead, also, the src is now item.gifLink */}\n              {gifList.map((item, index) => (\n                <GifItem className=\"gif-item-container\"\n                  key={index} \n                  userAddress={item.userAddress} \n                  gifLink={item.gifLink} \n                  upvotedUsers={item.upvotedUsers}\n                  downvotedUsers={item.downvotedUsers}\n                  voteCount={item.voteCount}\n                  walletAddress={provider.wallet.publicKey}/>\n              ))}\n            </div>\n          </div>\n        )\n      }\n    };\n\n  return (\n    <div className=\"App\">\n      {/* This was solely added for some styling fanciness */}\n      <div className={walletAddress ? 'authed-container' : 'container'}>\n        <div className=\"header-container\">\n          <p className=\"header\">🦧 GIF Portal</p>\n          <p className=\"sub-text\">\n            View your orangutan GIF collection in the metaverse ✨\n          </p>\n          {/* Render your connect to wallet button right here */}\n          {!walletAddress && renderNotConnectedContainer()}\n          {/* We just need to add the inverse here! */}\n          {walletAddress && renderConnectedContainer()}\n        </div>\n        <div className=\"footer-container\">\n          <img alt=\"Twitter Logo\" className=\"twitter-logo\" src={twitterLogo} />\n          <a\n            className=\"footer-text\"\n            href={TWITTER_LINK}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >{`built by @${TWITTER_HANDLE}`}</a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/twitter-logo.5c97ee2a.svg\";"],"sourceRoot":""}